# **제품 요구사항 명세서 (PRD) v5.2 — 감정맞추기 *faceread***

> **문서 버전:** 5.2 (Lean‑UI Stack **Final**)
> **작성일:** 2025‑07‑10
> **최종 갱신:** 2025‑07‑11
> **변경 이력:**
> • v5.1 → v5.2  UI 전용 라이브러리(**Tailwind CSS / Radix UI + shadcn/ui / Framer Motion**)만 채택, 나머지 순수 React + TypeScript로 단순화
> • 본 문서는 v5.2 기준 **완전판**이며, 이전 문서에 누락된 기술·일정·리스크·KPI 정보를 포함한다.

---

## 0. 한눈에 보기 (Vision & KPI)

| 항목         | 내용                                                               |
| ---------- | ---------------------------------------------------------------- |
| **제품 비전**  | "감정을 읽는 능력을 *게임처럼* 체험하고, 학습 · 공유를 통해 자연스러운 바이럴을 창출하는 모바일‑퍼스트 웹앱" |
| **핵심 KPI** | • 공유 클릭률 ≥ 15 %  • 세션당 재플레이 ≥ 1.8회  • 광고 CTR ≥ 0.9 %             |

---

## 1. 개요 (Overview)

### 1.1 프로젝트 비전

가벼운 “감정 인식 퀴즈”로 사용자에게 **오락 + 학습** 경험을 제공하고, 결과를 손쉽게 공유해 바이럴 확산을 노린다.

### 1.2 목표

| 키워드        | 설명                                  |
| ---------- | ----------------------------------- |
| **바이럴**    | 결과 카드 + 짧은 도전 문구로 SNS 자연 확산         |
| **반복 플레이** | 유형·오답·모드 랜덤화 → 재시도 동기 부여            |
| **차별화**    | 정답 해설·통합 모드 제공으로 “배워가는 재미”          |
| **수익**     | 페이지 상단 광고(모바일 320×50 / 데스크톱 728×90) |

---

## 2. UX & Design

### 2.1 디자인 원칙

* **캐주얼 × 세련** – 콘텐츠 집중용 미니멀 UI
* 광고·배경·콘텐츠 컬러 대비로 시각적 충돌 최소화

### 2.2 디자인 시스템

| 항목            | 값                                                                |
| ------------- | ---------------------------------------------------------------- |
| **Framework** | **Tailwind CSS** — 모든 토큰(색, 타이포, 스페이싱)은 `tailwind.config.js`에 정의 |
| **Primary**   | `#00A4E4`                                                        |
| **Secondary** | `#006FBA`, `#001F4E`                                             |
| **Bg/Accent** | `#FFFFFF`, `#DFF3FD`                                             |
| **Divider**   | `#F1F1F1`                                                        |

### 2.3 UX 플로우 (선택 #2 “통합 리워드 화면”)

> **퀴즈 풀‑스크린 → 결과·오답·공유 통합 리워드 화면 → 공유 버튼 상단 고정**
>
> * 결과 카드(등급·점수) 상단, 공유 CTA 고정
> * 오답 해설은 **아코디언** / **탭**으로 접기·펼치기
> * 광고 배너는 화면 최상단 고정으로 콘텐츠와 시각 분리

### 2.4 이미지 & 광고 사양

* **이미지** — 1:1 WebP ≤ 200 KB, 사내 촬영·AI 생성(상업 OK)
* **배너** — 모바일 320×50, 데스크톱 728×90·상단 고정, 실패 시 div collapse

---

## 3. 기능 명세

### 3.1 게임 유형 & 모드

| 유형            | 설명                   |
| ------------- | -------------------- |
| **face→text** | 얼굴 사진 → 감정 텍스트 4지선다  |
| **text→face** | 감정 텍스트 → 얼굴 사진 4지선다  |
| **eyes→text** | 눈 클로즈업 → 감정 텍스트 4지선다 |

* **표준 모드** — face→text 4 문제, text→face 3, eyes→text 3 = 총 10
* **통합 모드** — 슬라이더로 세 유형 비율 자유 조합, 총 10
* **중복 ID 없음** — 한 세션에 같은 문제 두 번 출제 금지

### 3.2 점수 · 등급 · 공유

| 점수     | 등급            | 공유 썸네일              |
| ------ | ------------- | ------------------- |
| 9 – 10 | 감정 탐정 **마스터** | `/share/master.jpg` |
| 6 – 8  | 감정 탐정 **전문가** | `/share/expert.jpg` |
| 3 – 5  | 감정 탐정 **초보자** | `/share/rookie.jpg` |
| 0 – 2  | 감정 탐정 **견습생** | `/share/novice.jpg` |

* **닉네임 규칙** — 영문/한글/숫자 1–10자, 특수문자 불가 `^[A-Za-z0-9가-힣]{1,10}$`
* **오답 해설 페이지** — 오답만 모아 이미지·텍스트 해설 제공
* **공유 문구(다국어)** — `나의 감정 인식 능력은 [등급]!
  도전해보세요! https://faceread.app`

---

## 4. 기술 요구사항

### 4.1 UI 스택

| 영역          | 사용 기술                        | 비고                       |
| ----------- | ---------------------------- | ------------------------ |
| **번들/빌드**   | **Vite** + TypeScript        | HMR · 빠른 빌드              |
| **상태**      | React `useReducer` + Context | 문제 · 점수 · 언어 전역          |
| **UI 컴포넌트** | **Radix UI** (headless)      | 모달 · 토스트 · 탭             |
|             | **shadcn/ui**                | Radix + Tailwind wrapper |
| **스타일**     | **Tailwind CSS**             | 디자인 토큰 일원화               |
| **애니메이션**   | **Framer Motion** *(선택)*     | 정답 · 페이지 전환 120 ms       |
| **국제화**     | **react‑i18next**            | ko/en/es 3개 언어 스위칭       |
| **배포**      | **Cloudflare Pages**         | 정적 호스팅, CI/CD            |

### 4.2 데이터 로딩 전략 (언어별 동적 import)

* 초기 번들에는 **기본 언어(브라우저 locale) JSON**만 포함
* 다른 언어 선택 시 `import(/* @vite-ignore */ \`./questions.\${lang}.json\`)\` lazy‑load
* 예상 200 문제 × 3 언어 ≈ 300 KB — 3G 환경에서도 FCP < 1.5 s, LCP < 2.5 s 달성

### 4.3 데이터 구조 & 디렉터리

```
src/
├── data/questions.ko.json   // EmotionQuestion[]
├── data/questions.en.json
├── data/questions.es.json
├── data/i18n/ko.json        // UI copy
├── assets/images/faces/
├── assets/images/eyes/
└── share/*.jpg              // 결과 썸네일
```

### 4.4 네트워크 · 보안

* JSON 1회 fetch → 전역 Context 캐시, 재요청 없음
* 쿠키·로컬스토리지·로그인 **없음** → 개인정보 미수집
* **CSP** — `default-src 'self'; img-src https://cdn.faceread.app`

---

## 5. 비‑기능 요구사항 (NFR)

| 영역       | 목표                                          | 측정 수단                     |
| -------- | ------------------------------------------- | ------------------------- |
| **성능**   | FCP < 1.5 s / LCP < 2.5 s (Moto G 3G)       | Lighthouse CI, Web Vitals |
| **접근성**  | Lighthouse a11y ≥ 95                        | Lighthouse CI             |
| **브라우저** | Chrome 90+, Safari 15+, Android/iOS WebView | BrowserStack QA           |
| **보안**   | No PII, Strict CSP                          | OWASP ZAP scan            |
| **테스트**  | Vitest line‑cov ≥ 90 % (logic), 수동 QA(UX)   | GitHub Actions            |

---

## 6. 모듈 구현 플랜 (Option 2+)

| 계층                  | 책임                                                 | 파일/폴더 예시                          |
| ------------------- | -------------------------------------------------- | --------------------------------- |
| **AppShell**        | 라우팅 `/quiz`·`/result`, I18nProvider, ThemeProvider | `src/App.tsx`                     |
| **useQuiz** (hook)  | 문제 로딩 · 랜덤&중복 제거 · 점수 계산                           | `src/hooks/useQuiz.ts`            |
| **QuestionCard**    | 4 지선다 UI + 애니메이션                                   | `src/components/QuestionCard.tsx` |
| **RewardScreen**    | 결과 카드 · 오답 해설 아코디언 · 공유 버튼                         | `src/components/RewardScreen.tsx` |
| **useShare** (hook) | 썸네일·카피 생성, 클립보드 복사, UA 감지                          | `src/hooks/useShare.ts`           |
| **analytics.ts**    | pageview/CTR batched send                          | `src/lib/analytics.ts`            |

### 6.1 의존 관계 (텍스트 다이어그램)

```
AppShell
 ├─ I18nProvider
 ├─ ThemeProvider
 ├─ Routes
 │   ├─ /quiz    ── QuestionCard  ← useQuiz
 │   └─ /result  ── RewardScreen  ← useQuiz, useShare
 └─ analytics (hook 내부 호출)
```

---

## 7. 데이터 모델 (TypeScript)

```ts
type EmotionQuestion = {
  id: string;                         // unique
  type: 'face2text' | 'text2face' | 'eyes2text';
  image: string;                      // WebP path
  emotionKey: string;                 // i18n key
  explanation: {
    ko: string;
    en: string;
    es: string;
  };
};
```

---

## 8. 일정 & 인력 (2 FTE · 3 주)

| 주차     | 주요 작업                               | 담당       |
| ------ | ----------------------------------- | -------- |
| **1주** | 프로젝트 세팅 · `useQuiz` 구현 · 문제 60 개 입력 | FE A     |
|        | UI 컴포넌트 기본 · RewardScreen 초안        | FE B     |
| **2주** | 추가 60 문제 · 다국어 번역 · QA              | FE A     |
|        | 애니메이션 · 광고 연결 · Lighthouse 최적화      | FE B     |
| **3주** | 베타 오픈 → 지표 수집 → 버그 픽스               | A/B 공통   |
|        | 정식 릴리즈 & 마케팅 캠페인                    | PM + FE팀 |

---

## 9. 위험 분석 (FMEA 3열)

| 잠재 실패 모드         | 영향              | 대응·완화                                     |
| ---------------- | --------------- | ----------------------------------------- |
| JSON 버전 불일치      | 문제 로딩 실패 → 빈 화면 | `version` 필드 검사, Sentry 로깅 & fallback msg |
| 이미지 404          | UX 저하, 정답 구분 불가 | WebP lazy‑load → 동적 placeholder           |
| iOS Share API 차단 | 공유율 저하          | 클립보드 복사 fallback + 안내 토스트                 |
| AdBlock 배너 차단    | 수익 감소           | "광고로 무료 유지" 플래시 msg 유도                    |
| 번역 누락            | 브랜드 신뢰도 하락      | CI `missingKey` 테스트, Crowdin workflow     |

---

## 10. 부록 – 변경 이력

| 버전      | 날짜         | 주요 변경                     |
| ------- | ---------- | ------------------------- |
| **5.0** | 2025‑07‑10 | *Definitive Blueprint* 최초 |
