# ê¸°ìˆ  ìŠ¤íƒ í™•ì • ì‹œíŠ¸

**ë¬¸ì„œ ë²„ì „:** 1.0  
**ì‘ì„±ì¼:** 2025-07-11  
**ì‘ì„±ì:** AI Development Team  
**ì°¸ì¡°:** PRD v5.2, STEP 2 ì•„í‚¤í…ì²˜, coding-standards

---

## ğŸ¯ ê¸°ìˆ  ìŠ¤íƒ í™•ì • ëª©í‘œ

### í™•ì • ê¸°ì¤€
1. **PRD ìš”êµ¬ì‚¬í•­ 100% ì¶©ì¡±**
2. **ì„±ëŠ¥ ëª©í‘œ ë‹¬ì„±**: FCP < 1.5s, LCP < 2.5s
3. **ì ‘ê·¼ì„± ëª©í‘œ**: Lighthouse a11y â‰¥ 95ì 
4. **ê°œë°œ íš¨ìœ¨ì„±**: 2 FTE, 3ì£¼ ì¼ì • ì¤€ìˆ˜

---

## ğŸ—ï¸ í™•ì •ëœ ê¸°ìˆ  ìŠ¤íƒ

### 1. í•µì‹¬ í”„ë ˆì„ì›Œí¬ âœ…

| ê¸°ìˆ  | ë²„ì „ | í™•ì • ì‚¬ìœ  | ìƒíƒœ |
|------|------|-----------|------|
| **React** | 18.2.0 | í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸, Hooks í™œìš© | âœ… ì„¤ì¹˜ë¨ |
| **TypeScript** | 5.2.2 | ì—„ê²©í•œ íƒ€ì… ê²€ì‚¬, ì½”ë”© í‘œì¤€ ì¤€ìˆ˜ | âœ… ì„¤ì¹˜ë¨ |
| **Vite** | 5.0.8 | ë¹ ë¥¸ HMR, ìµœì í™”ëœ ë¹Œë“œ | âœ… ì„¤ì¹˜ë¨ |

### 2. UI ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ…

| ê¸°ìˆ  | ë²„ì „ | í™•ì • ì‚¬ìœ  | ìƒíƒœ |
|------|------|-----------|------|
| **Tailwind CSS** | 4.1.11 | ë””ìì¸ í† í° ì¼ì›í™”, ì„±ëŠ¥ ìµœì í™” | âœ… ì„¤ì¹˜ë¨ |
| **Radix UI** | 1.2.x | ì ‘ê·¼ì„± ê¸°ë°˜ í—¤ë“œë¦¬ìŠ¤ ì»´í¬ë„ŒíŠ¸ | ğŸ”„ ë¶€ë¶„ ì„¤ì¹˜ |
| **shadcn/ui** | latest | Radix + Tailwind wrapper | ğŸ”„ ì„¤ì • í•„ìš” |

### 3. ì¶”ê°€ í•„ìš” íŒ¨í‚¤ì§€

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ìš°ì„ ìˆœìœ„ |
|------|------|------|----------|
| **react-router-dom** | ^6.20.0 | SPA ë¼ìš°íŒ… | ğŸ”´ í•„ìˆ˜ |
| **framer-motion** | ^10.16.0 | 120ms ì• ë‹ˆë©”ì´ì…˜ | ğŸ”´ í•„ìˆ˜ |
| **react-i18next** | ^13.5.0 | ë‹¤êµ­ì–´ ì§€ì› | ğŸ”´ í•„ìˆ˜ |
| **i18next** | ^23.7.0 | êµ­ì œí™” í”„ë ˆì„ì›Œí¬ | ğŸ”´ í•„ìˆ˜ |
| **@types/node** | ^20.10.0 | Node.js íƒ€ì… ì •ì˜ | ğŸŸ¡ ê°œë°œ í¸ì˜ |

---

## ğŸ§ª ê°œë°œ ë„êµ¬ ì²´ì¸

### 1. í…ŒìŠ¤íŒ… ë„êµ¬ (ì‹ ê·œ ì¶”ê°€)

| ë„êµ¬ | ë²„ì „ | ìš©ë„ | ì„¤ì¹˜ ëª…ë ¹ |
|------|------|------|-----------|
| **Vitest** | ^1.0.0 | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, 90% ì»¤ë²„ë¦¬ì§€ ëª©í‘œ | `pnpm add -D vitest` |
| **@testing-library/react** | ^14.1.0 | React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ | `pnpm add -D @testing-library/react` |
| **@testing-library/jest-dom** | ^6.1.0 | DOM ë§¤ì²˜ í™•ì¥ | `pnpm add -D @testing-library/jest-dom` |
| **jsdom** | ^23.0.0 | ë¸Œë¼ìš°ì € í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜ | `pnpm add -D jsdom` |

### 2. ì„±ëŠ¥ ë„êµ¬

| ë„êµ¬ | ë²„ì „ | ìš©ë„ | ì„¤ì¹˜ ë°©ë²• |
|------|------|------|-----------|
| **@vitejs/plugin-legacy** | ^5.2.0 | ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì› | `pnpm add -D @vitejs/plugin-legacy` |
| **vite-plugin-pwa** | ^0.17.0 | PWA ê¸°ëŠ¥ (ì˜µì…˜) | `pnpm add -D vite-plugin-pwa` |
| **rollup-plugin-visualizer** | ^5.9.0 | ë²ˆë“¤ í¬ê¸° ë¶„ì„ | `pnpm add -D rollup-plugin-visualizer` |

### 3. ë¦°íŒ… & í¬ë§¤íŒ… (ê°•í™”)

| ë„êµ¬ | ë²„ì „ | ìš©ë„ | ìƒíƒœ |
|------|------|------|------|
| **ESLint** | 8.55.0 | ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ | âœ… ì„¤ì¹˜ë¨ |
| **Prettier** | ^3.1.0 | ì½”ë“œ í¬ë§¤íŒ… | ğŸ”„ ì¶”ê°€ í•„ìš” |
| **eslint-config-prettier** | ^9.1.0 | ESLint-Prettier ì¶©ëŒ ë°©ì§€ | ğŸ”„ ì¶”ê°€ í•„ìš” |

---

## ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ê³„íš

### 1. ì¦‰ì‹œ ì„¤ì¹˜ (í•„ìˆ˜)

```bash
# ë¼ìš°íŒ… ë° ì• ë‹ˆë©”ì´ì…˜
pnpm add react-router-dom@^6.20.0
pnpm add framer-motion@^10.16.0

# êµ­ì œí™”
pnpm add react-i18next@^13.5.0 i18next@^23.7.0

# ì¶”ê°€ Radix UI ì»´í¬ë„ŒíŠ¸
pnpm add @radix-ui/react-dialog@^1.0.5
pnpm add @radix-ui/react-toast@^1.1.5
pnpm add @radix-ui/react-progress@^1.0.3

# shadcn/ui ì´ˆê¸°í™”
npx shadcn-ui@latest init
npx shadcn-ui@latest add button card input progress accordion dialog toast
```

### 2. ê°œë°œ ë„êµ¬ ì„¤ì¹˜

```bash
# í…ŒìŠ¤íŒ…
pnpm add -D vitest@^1.0.0
pnpm add -D @testing-library/react@^14.1.0
pnpm add -D @testing-library/jest-dom@^6.1.0
pnpm add -D jsdom@^23.0.0

# ì„±ëŠ¥ ë„êµ¬
pnpm add -D rollup-plugin-visualizer@^5.9.0
pnpm add -D @vitejs/plugin-legacy@^5.2.0

# ì½”ë“œ í’ˆì§ˆ
pnpm add -D prettier@^3.1.0
pnpm add -D eslint-config-prettier@^9.1.0
```

---

## âš™ï¸ ë¹Œë“œ ìµœì í™” ì „ëµ

### 1. Vite ì„¤ì • í™•ì¥

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { visualizer } from 'rollup-plugin-visualizer'

export default defineConfig({
  plugins: [
    react(),
    visualizer({
      filename: 'dist/stats.html',
      open: true,
      gzipSize: true
    })
  ],
  
  // ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ìµœì í™”
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'react-vendor': ['react', 'react-dom'],
          'ui-vendor': ['@radix-ui/react-accordion', '@radix-ui/react-dialog'],
          'i18n-vendor': ['react-i18next', 'i18next']
        }
      }
    },
    
    // ìµœì í™” ì„¤ì •
    target: 'es2020',
    minify: 'esbuild',
    sourcemap: false,
    
    // ë²ˆë“¤ í¬ê¸° ê²½ê³  ì„ê³„ê°’
    chunkSizeWarningLimit: 1000
  },
  
  // ê°œë°œ ì„œë²„ ìµœì í™”
  server: {
    hmr: {
      overlay: false
    }
  }
})
```

### 2. ì–¸ì–´ë³„ ë™ì  Import êµ¬í˜„

```typescript
// src/lib/question-loader.ts
interface QuestionLoader {
  loadQuestions: (language: 'ko' | 'en' | 'es') => Promise<EmotionQuestion[]>;
}

export const createQuestionLoader = (): QuestionLoader => {
  const cache = new Map<string, EmotionQuestion[]>();
  
  return {
    async loadQuestions(language) {
      // ìºì‹œ í™•ì¸
      if (cache.has(language)) {
        return cache.get(language)!;
      }
      
      // ë™ì  importë¡œ ì–¸ì–´ë³„ ë¡œë”©
      const module = await import(
        /* @vite-ignore */
        `../data/questions.${language}.json`
      );
      
      const questions = module.default || module;
      cache.set(language, questions);
      
      return questions;
    }
  };
};
```

### 3. ì´ë¯¸ì§€ ìµœì í™” ì „ëµ

```typescript
// src/lib/image-optimization.ts
interface ImageLoaderConfig {
  format: 'webp' | 'avif' | 'jpg';
  quality: number;
  lazy: boolean;
}

export const createImageLoader = (config: ImageLoaderConfig) => {
  return {
    // WebP ì§€ì› í™•ì¸
    supportsWebP: () => {
      const canvas = document.createElement('canvas');
      return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;
    },
    
    // ìµœì í™”ëœ ì´ë¯¸ì§€ URL ìƒì„±
    getOptimizedUrl: (src: string) => {
      const format = config.format === 'webp' && !this.supportsWebP() 
        ? 'jpg' 
        : config.format;
      
      return `${src}?format=${format}&quality=${config.quality}`;
    }
  };
};
```

---

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### 1. CSP (Content Security Policy)

```html
<!-- index.html -->
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline';
  style-src 'self' 'unsafe-inline';
  img-src 'self' https://cdn.faceread.app data:;
  font-src 'self' https://fonts.gstatic.com;
  connect-src 'self' https://api.faceread.app;
  frame-ancestors 'none';
  base-uri 'self';
  form-action 'self';
">
```

### 2. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

```typescript
// src/lib/env.ts
interface EnvironmentConfig {
  NODE_ENV: 'development' | 'production' | 'test';
  VITE_API_BASE_URL?: string;
  VITE_CDN_BASE_URL?: string;
  VITE_ANALYTICS_ID?: string;
}

export const env: EnvironmentConfig = {
  NODE_ENV: import.meta.env.MODE as any,
  VITE_API_BASE_URL: import.meta.env.VITE_API_BASE_URL,
  VITE_CDN_BASE_URL: import.meta.env.VITE_CDN_BASE_URL || '',
  VITE_ANALYTICS_ID: import.meta.env.VITE_ANALYTICS_ID
};

// ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©
export const isDevelopment = env.NODE_ENV === 'development';
export const isProduction = env.NODE_ENV === 'production';
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì„¤ì •

### 1. Vitest ì„¤ì •

```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  test: {
    environment: 'jsdom',
    setupFiles: ['./src/test/setup.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: [
        'node_modules/',
        'src/test/',
        '**/*.d.ts',
        '**/*.config.ts'
      ],
      thresholds: {
        global: {
          branches: 90,
          functions: 90,
          lines: 90,
          statements: 90
        }
      }
    }
  }
})
```

### 2. í…ŒìŠ¤íŠ¸ ì„¤ì • íŒŒì¼

```typescript
// src/test/setup.ts
import '@testing-library/jest-dom'
import { expect, afterEach } from 'vitest'
import { cleanup } from '@testing-library/react'
import * as matchers from '@testing-library/jest-dom/matchers'

// Jest-DOM ë§¤ì²˜ í™•ì¥
expect.extend(matchers)

// ê° í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬
afterEach(() => {
  cleanup()
})

// ì „ì—­ ëª¨í‚¹
global.matchMedia = global.matchMedia || function (query) {
  return {
    matches: false,
    media: query,
    onchange: null,
    addListener: () => {},
    removeListener: () => {},
    addEventListener: () => {},
    removeEventListener: () => {},
    dispatchEvent: () => {},
  }
}
```

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ ë° ì¸¡ì •

### 1. Core Web Vitals ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ | í˜„ì¬ ìƒíƒœ | ì¸¡ì • ë„êµ¬ |
|------|------|-----------|-----------|
| **FCP** | < 1.5s | ë¯¸ì¸¡ì • | Lighthouse |
| **LCP** | < 2.5s | ë¯¸ì¸¡ì • | Lighthouse |
| **CLS** | < 0.1 | ë¯¸ì¸¡ì • | Lighthouse |
| **FID** | < 100ms | ë¯¸ì¸¡ì • | Lighthouse |

### 2. ë²ˆë“¤ í¬ê¸° ëª©í‘œ

| í•­ëª© | ëª©í‘œ | í˜„ì¬ | ì „ëµ |
|------|------|------|------|
| **ì´ˆê¸° JS** | < 150KB (gzipped) | 46KB | ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… |
| **ì´ˆê¸° CSS** | < 50KB (gzipped) | 1.25KB | PurgeCSS |
| **ì´ë¯¸ì§€** | < 200KB per image | ë¯¸ì ìš© | WebP ë³€í™˜ |
| **ì „ì²´ ë²ˆë“¤** | < 500KB | ë¯¸ì¸¡ì • | íŠ¸ë¦¬ ì…°ì´í‚¹ |

### 3. Lighthouse ì„¤ì •

```javascript
// lighthouse-ci.js
module.exports = {
  ci: {
    collect: {
      url: ['http://localhost:4173'],
      numberOfRuns: 3
    },
    assert: {
      assertions: {
        'categories:performance': ['error', { minScore: 0.9 }],
        'categories:accessibility': ['error', { minScore: 0.95 }],
        'categories:best-practices': ['error', { minScore: 0.9 }],
        'categories:seo': ['error', { minScore: 0.9 }]
      }
    },
    upload: {
      target: 'temporary-public-storage'
    }
  }
}
```

---

## ğŸš€ ë°°í¬ í™˜ê²½ ì„¤ì •

### 1. Cloudflare Pages ì„¤ì •

```yaml
# .github/workflows/deploy.yml
name: Deploy to Cloudflare Pages

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'
      
      - name: Install dependencies
        run: pnpm install --frozen-lockfile
      
      - name: Run tests
        run: pnpm test
      
      - name: Build project
        run: pnpm build
      
      - name: Publish to Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          accountId: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          projectName: faceread
          directory: dist
```

### 2. í™˜ê²½ë³„ ì„¤ì •

```bash
# .env.development
VITE_API_BASE_URL=http://localhost:3000
VITE_CDN_BASE_URL=http://localhost:5173
VITE_ANALYTICS_ID=dev-analytics

# .env.production
VITE_API_BASE_URL=https://api.faceread.app
VITE_CDN_BASE_URL=https://cdn.faceread.app
VITE_ANALYTICS_ID=prod-analytics
```

---

## âœ… ê¸°ìˆ  ìŠ¤íƒ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ì„¤ì¹˜ í•„ìš”
- [ ] react-router-dom@^6.20.0
- [ ] framer-motion@^10.16.0
- [ ] react-i18next@^13.5.0
- [ ] i18next@^23.7.0
- [ ] ì¶”ê°€ Radix UI ì»´í¬ë„ŒíŠ¸ë“¤
- [ ] shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜

### ê°œë°œ ë„êµ¬ ì„¤ì¹˜
- [ ] Vitest í…ŒìŠ¤íŠ¸ í™˜ê²½
- [ ] Prettier ì½”ë“œ í¬ë§¤íŒ…
- [ ] ë²ˆë“¤ ë¶„ì„ ë„êµ¬
- [ ] Lighthouse CI ì„¤ì •

### ì„¤ì • íŒŒì¼ ìƒì„±
- [ ] vite.config.ts í™•ì¥
- [ ] vitest.config.ts ìƒì„±
- [ ] prettier.config.js ìƒì„±
- [ ] .env íŒŒì¼ë“¤ ìƒì„±

---

**ë‹¤ìŒ ë‹¨ê³„**: íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° PoC êµ¬í˜„ 