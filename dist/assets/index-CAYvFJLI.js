var Xn=Object.defineProperty;var Jn=(e,t,n)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ze=(e,t,n)=>Jn(e,typeof t!="symbol"?t+"":t,n);import{j as s,S as er,P as H,u as ee,c as Bt,a as Z,b as Ht,d as tr,e as B,f as nr,g as dt,h as rr,i as or,R as sr,k as ir,F as ar,D as cr,l as lr,m as jt,n as dr,I as ur,H as fr,T as mr,C as hr}from"../vendor/ui-vendor-DvozfE8B.js";import{a as Fe,r as u,R as pr}from"../vendor/react-vendor-CUWRTB7o.js";import{t as gr,c as xr,a as yr}from"../vendor/utils-vendor-CjxovF-h.js";import{u as ut,i as wr,a as vr}from"../vendor/i18n-vendor-BPfRe21T.js";import{u as ft,a as br,B as Sr,R as Nr,b as Xe}from"../vendor/router-vendor-s7D6fIu6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var tt={},Rt=Fe;tt.createRoot=Rt.createRoot,tt.hydrateRoot=Rt.hydrateRoot;const Cr="modulepreload",jr=function(e,t){return new URL(e,t).href},At={},Rr=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");o=Promise.allSettled(n.map(d=>{if(d=jr(d,r),d in At)return;At[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!r)for(let y=a.length-1;y>=0;y--){const m=a[y];if(m.href===d&&(!f||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Cr,f||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((y,m)=>{p.addEventListener("load",y),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};class Ar{constructor(t={cacheEnabled:!0,fallbackLanguage:"ko",maxRetries:3}){Ze(this,"cache",new Map);Ze(this,"loadingPromises",new Map);this.config=t}async loadQuestions(t){const n=performance.now();if(this.config.cacheEnabled&&this.cache.has(t))return{questions:this.cache.get(t),language:t,loadTime:performance.now()-n,fromCache:!0};if(this.loadingPromises.has(t))return{questions:await this.loadingPromises.get(t),language:t,loadTime:performance.now()-n,fromCache:!1};const r=this.performLoad(t);this.loadingPromises.set(t,r);try{const o=await r;this.config.cacheEnabled&&this.cache.set(t,o);const i=performance.now()-n;return{questions:o,language:t,loadTime:i,fromCache:!1,chunkSize:JSON.stringify(o).length}}catch(o){if(t!==this.config.fallbackLanguage)return console.warn(`[QuestionLoader] Failed to load ${t}, falling back to ${this.config.fallbackLanguage}`),this.loadQuestions(this.config.fallbackLanguage);throw new Error(`Failed to load questions for language: ${t}. ${o}`)}finally{this.loadingPromises.delete(t)}}async performLoad(t){let n=0;for(;n<this.config.maxRetries;)try{const r=await Rr(()=>import(`../data/questions.${t}.json`),[],import.meta.url),o=r.default||r;return this.validateQuestions(o,t),o}catch(r){if(n++,n>=this.config.maxRetries)throw r;await new Promise(o=>setTimeout(o,100*n))}throw new Error(`Failed to load after ${this.config.maxRetries} retries`)}validateQuestions(t,n){if(!Array.isArray(t))throw new Error(`Invalid questions data for ${n}: not an array`);if(t.length===0)throw new Error(`No questions found for language: ${n}`);for(const r of t){if(!r.id||!r.type||!r.choices||!r.correctAnswer)throw new Error(`Invalid question structure in ${n}: ${r.id||"unknown"}`);if(!["face2text","text2face","eyes2text"].includes(r.type))throw new Error(`Invalid question type: ${r.type}`);if(r.choices.length!==4)throw new Error(`Question must have exactly 4 choices: ${r.id}`)}}clearCache(){this.cache.clear(),console.log("[QuestionLoader] Cache cleared")}clearLanguageCache(t){this.cache.delete(t),console.log(`[QuestionLoader] Cache cleared for ${t}`)}getCacheStatus(){return Array.from(this.cache.entries()).map(([t,n])=>({language:t,count:n.length}))}async preloadLanguages(t){return(await Promise.allSettled(t.map(r=>this.loadQuestions(r)))).filter(r=>r.status==="fulfilled").map(r=>r.value)}async preloadAllLanguages(){const t=["ko","en","es"];return this.preloadLanguages(t)}}const Er=new Ar,Wt={questions:[],currentQuestionIndex:0,answers:[],score:0,isLoading:!1,error:null,gameMode:"standard",language:"ko",nickname:"",isQuizStarted:!1,isQuizFinished:!1},Pr=e=>e.reduce((t,n)=>t+(n.isCorrect?1:0),0),Et=e=>e>=9?"master":e>=6?"expert":e>=3?"rookie":"novice",Pe=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},Tr=e=>{const t=e.filter(i=>i.type==="face2text"),n=e.filter(i=>i.type==="text2face"),r=e.filter(i=>i.type==="eyes2text"),o=[...Pe(t).slice(0,4),...Pe(n).slice(0,3),...Pe(r).slice(0,3)];return Pe(o)},kr=e=>Pe(e).slice(0,10),Ir=(e,t)=>{switch(t.type){case"LOAD_QUESTIONS_START":return{...e,isLoading:!0,error:null};case"LOAD_QUESTIONS_SUCCESS":return{...e,questions:t.payload,isLoading:!1,error:null};case"LOAD_QUESTIONS_ERROR":return{...e,isLoading:!1,error:t.payload};case"START_QUIZ":{const{mode:n,language:r}=t.payload;let o;return n==="standard"?o=Tr(e.questions):o=kr(e.questions),{...e,gameMode:n,language:r,questions:o,currentQuestionIndex:0,answers:[],score:0,isQuizStarted:!0,isQuizFinished:!1}}case"SUBMIT_ANSWER":{const n=[...e.answers,t.payload],r=Pr(n);return{...e,answers:n,score:r}}case"NEXT_QUESTION":return{...e,currentQuestionIndex:e.currentQuestionIndex+1};case"FINISH_QUIZ":return{...e,isQuizFinished:!0};case"RESET_QUIZ":return{...Wt,questions:e.questions};case"SET_NICKNAME":return{...e,nickname:t.payload};default:return e}},Or=()=>{const[e,t]=u.useReducer(Ir,Wt),n=u.useCallback(async f=>{t({type:"LOAD_QUESTIONS_START"});try{const h=await Er.loadQuestions(f);t({type:"LOAD_QUESTIONS_SUCCESS",payload:h.questions})}catch(h){const g=h instanceof Error?h.message:"문제를 불러올 수 없습니다.";t({type:"LOAD_QUESTIONS_ERROR",payload:g})}},[]),r=u.useCallback((f,h)=>{t({type:"START_QUIZ",payload:{mode:f,language:h}})},[]),o=u.useCallback((f,h)=>{const g=e.questions[e.currentQuestionIndex];if(!g)return;const p=g.correctAnswer===h,y={questionId:f,selectedAnswerId:h,correctAnswerId:g.correctAnswer,isCorrect:p,timeSpent:0};t({type:"SUBMIT_ANSWER",payload:y}),setTimeout(()=>{e.currentQuestionIndex<e.questions.length-1?t({type:"NEXT_QUESTION"}):t({type:"FINISH_QUIZ"})},1200)},[e.currentQuestionIndex,e.questions]),i=u.useCallback(f=>/^[A-Za-z0-9가-힣]{1,10}$/.test(f)?(t({type:"SET_NICKNAME",payload:f}),!0):!1,[]),a=u.useCallback(()=>{t({type:"RESET_QUIZ"})},[]),c=e.questions[e.currentQuestionIndex]||null,l=e.isQuizFinished?{score:e.score,grade:Et(e.score),answers:e.answers,totalQuestions:e.questions.length,correctAnswers:e.answers.filter(f=>f.isCorrect).length,incorrectAnswers:e.answers.filter(f=>!f.isCorrect)}:null,d=e.questions.length>0?(e.currentQuestionIndex+(e.isQuizFinished?1:0))/e.questions.length*100:0;return u.useEffect(()=>{},[]),{...e,currentQuestion:c,quizResult:l,progress:d,loadQuestions:n,startQuiz:r,submitAnswer:o,setNickname:i,resetQuiz:a,calculateGrade:Et,totalQuestions:e.questions.length,answeredQuestions:e.answers.length,remainingQuestions:e.questions.length-e.currentQuestionIndex-1}},Vt=u.createContext(void 0),_r=({children:e})=>{const t=Or();return s.jsx(Vt.Provider,{value:t,children:e})},mt=()=>{const e=u.useContext(Vt);if(e===void 0)throw new Error("useQuizContext must be used within a QuizProvider");return e};function Y(...e){return gr(xr(e))}const Mr=e=>e>=9?"master":e>=6?"expert":e>=3?"rookie":"novice",Lr=e=>{const t=Mr(e);return{grade:t,shareImage:`/share/${t}.jpg`}},Pt=(e,t,n,r="ko")=>{const o={ko:{master:"감정 탐정 마스터",expert:"감정 탐정 전문가",rookie:"감정 탐정 초보자",novice:"감정 탐정 견습생"},en:{master:"Emotion Detective Master",expert:"Emotion Detective Expert",rookie:"Emotion Detective Rookie",novice:"Emotion Detective Novice"},es:{master:"Maestro Detective de Emociones",expert:"Experto Detective de Emociones",rookie:"Principiante Detective de Emociones",novice:"Aprendiz Detective de Emociones"}},i={ko:`${n}님의 감정 인식 능력은 ${o.ko[e]}! (${t}/10점)
도전해보세요! https://faceread.app`,en:`${n}'s emotion recognition ability is ${o.en[e]}! (${t}/10 points)
Try it! https://faceread.app`,es:`La habilidad de reconocimiento de emociones de ${n} es ${o.es[e]}! (${t}/10 puntos)
¡Inténtalo! https://faceread.app`};return i[r]||i.ko},Dr=yr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative z-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-radial from-primary to-secondary text-white shadow-lg shadow-primary/50 hover:shadow-xl hover:shadow-primary/60 transition-all duration-300 ease-in-out"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function xe({className:e,variant:t,size:n,asChild:r=!1,...o}){const i=r?er:"button";return s.jsx(i,{"data-slot":"button",className:Y(Dr({variant:t,size:n,className:e})),...o})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zr=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Tt=e=>{const t=zr(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ut=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),qr=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...c},l)=>u.createElement("svg",{ref:l,...Fr,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ut("lucide",o),...!i&&!qr(c)&&{"aria-hidden":"true"},...c},[...a.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=u.forwardRef(({className:r,...o},i)=>u.createElement(Qr,{ref:i,iconNode:t,className:Ut(`lucide-${$r(Tt(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Tt(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hr=X("award",Br);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Vr=X("brain",Wr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kr=X("check",Ur);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ht=X("chevron-down",Gr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zr=X("chevron-up",Yr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jr=X("circle-question-mark",Xr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],to=X("clock",eo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ro=X("eye",no);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],so=X("play",oo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ao=X("rotate-ccw",io);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lo=X("share-2",co);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fo=X("target",uo),mo=({className:e=""})=>{const{t}=ut();return s.jsx("div",{className:`w-full bg-gray-50 border-b border-gray-200 ${e}`,children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-center h-16 bg-white rounded-lg border border-gray-200",children:s.jsx("span",{className:"text-sm font-medium text-gray-500",children:t("ad.noAdMessage")})})})})};function kt(e,[t,n]){return Math.min(n,Math.max(t,e))}const ho=["top","right","bottom","left"],de=Math.min,U=Math.max,Le=Math.round,_e=Math.floor,oe=e=>({x:e,y:e}),po={left:"right",right:"left",bottom:"top",top:"bottom"},go={start:"end",end:"start"};function nt(e,t,n){return U(e,de(t,n))}function ae(e,t){return typeof e=="function"?e(t):e}function ce(e){return e.split("-")[0]}function Ce(e){return e.split("-")[1]}function pt(e){return e==="x"?"y":"x"}function gt(e){return e==="y"?"height":"width"}const xo=new Set(["top","bottom"]);function re(e){return xo.has(ce(e))?"y":"x"}function xt(e){return pt(re(e))}function yo(e,t,n){n===void 0&&(n=!1);const r=Ce(e),o=xt(e),i=gt(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=De(a)),[a,De(a)]}function wo(e){const t=De(e);return[rt(e),t,rt(t)]}function rt(e){return e.replace(/start|end/g,t=>go[t])}const It=["left","right"],Ot=["right","left"],vo=["top","bottom"],bo=["bottom","top"];function So(e,t,n){switch(e){case"top":case"bottom":return n?t?Ot:It:t?It:Ot;case"left":case"right":return t?vo:bo;default:return[]}}function No(e,t,n,r){const o=Ce(e);let i=So(ce(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(rt)))),i}function De(e){return e.replace(/left|right|bottom|top/g,t=>po[t])}function Co(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kt(e){return typeof e!="number"?Co(e):{top:e,right:e,bottom:e,left:e}}function $e(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _t(e,t,n){let{reference:r,floating:o}=e;const i=re(t),a=xt(t),c=gt(a),l=ce(t),d=i==="y",f=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let p;switch(l){case"top":p={x:f,y:r.y-o.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-o.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Ce(t)){case"start":p[a]-=g*(n&&d?-1:1);break;case"end":p[a]+=g*(n&&d?-1:1);break}return p}const jo=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=_t(d,r,l),g=r,p={},y=0;for(let m=0;m<c.length;m++){const{name:x,fn:v}=c[m],{x:w,y:b,data:S,reset:N}=await v({x:f,y:h,initialPlacement:r,placement:g,strategy:o,middlewareData:p,rects:d,platform:a,elements:{reference:e,floating:t}});f=w??f,h=b??h,p={...p,[x]:{...p[x],...S}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(d=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:f,y:h}=_t(d,g,l)),m=-1)}return{x:f,y:h,placement:g,strategy:o,middlewareData:p}};async function ke(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=ae(t,e),y=Kt(p),x=c[g?h==="floating"?"reference":"floating":h],v=$e(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:l})),w=h==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=$e(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-N.top+y.top)/S.y,bottom:(N.bottom-v.bottom+y.bottom)/S.y,left:(v.left-N.left+y.left)/S.x,right:(N.right-v.right+y.right)/S.x}}const Ro=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:c,middlewareData:l}=t,{element:d,padding:f=0}=ae(e,t)||{};if(d==null)return{};const h=Kt(f),g={x:n,y:r},p=xt(o),y=gt(p),m=await a.getDimensions(d),x=p==="y",v=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[p]-g[p]-i.floating[y],N=g[p]-i.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let R=P?P[b]:0;(!R||!await(a.isElement==null?void 0:a.isElement(P)))&&(R=c.floating[b]||i.floating[y]);const k=S/2-N/2,z=R/2-m[y]/2-1,O=de(h[v],z),_=de(h[w],z),M=O,I=R-m[y]-_,E=R/2-m[y]/2+k,q=nt(M,E,I),A=!l.arrow&&Ce(o)!=null&&E!==q&&i.reference[y]/2-(E<M?O:_)-m[y]/2<0,T=A?E<M?E-M:E-I:0;return{[p]:g[p]+T,data:{[p]:q,centerOffset:E-q-T,...A&&{alignmentOffset:T}},reset:A}}}),Ao=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...x}=ae(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=ce(o),w=re(c),b=ce(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(d.floating)),N=g||(b||!m?[De(c)]:wo(c)),P=y!=="none";!g&&P&&N.push(...No(c,m,y,S));const R=[c,...N],k=await ke(t,x),z=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&z.push(k[v]),h){const E=yo(o,a,S);z.push(k[E[0]],k[E[1]])}if(O=[...O,{placement:o,overflows:z}],!z.every(E=>E<=0)){var _,M;const E=(((_=i.flip)==null?void 0:_.index)||0)+1,q=R[E];if(q&&(!(h==="alignment"?w!==re(q):!1)||O.every(j=>j.overflows[0]>0&&re(j.placement)===w)))return{data:{index:E,overflows:O},reset:{placement:q}};let A=(M=O.filter(T=>T.overflows[0]<=0).sort((T,j)=>T.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!A)switch(p){case"bestFit":{var I;const T=(I=O.filter(j=>{if(P){const L=re(j.placement);return L===w||L==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((j,L)=>j[1]-L[1])[0])==null?void 0:I[0];T&&(A=T);break}case"initialPlacement":A=c;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function Mt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lt(e){return ho.some(t=>e[t]>=0)}const Eo=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ae(e,t);switch(r){case"referenceHidden":{const i=await ke(t,{...o,elementContext:"reference"}),a=Mt(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Lt(a)}}}case"escaped":{const i=await ke(t,{...o,altBoundary:!0}),a=Mt(i,n.floating);return{data:{escapedOffsets:a,escaped:Lt(a)}}}default:return{}}}}},Gt=new Set(["left","top"]);async function Po(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=ce(n),c=Ce(n),l=re(n)==="y",d=Gt.has(a)?-1:1,f=i&&l?-1:1,h=ae(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof y=="number"&&(p=c==="end"?y*-1:y),l?{x:p*f,y:g*d}:{x:g*d,y:p*f}}const To=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:c}=t,l=await Po(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},ko=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=ae(e,t),d={x:n,y:r},f=await ke(t,l),h=re(ce(o)),g=pt(h);let p=d[g],y=d[h];if(i){const x=g==="y"?"top":"left",v=g==="y"?"bottom":"right",w=p+f[x],b=p-f[v];p=nt(w,p,b)}if(a){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=y+f[x],b=y-f[v];y=nt(w,y,b)}const m=c.fn({...t,[g]:p,[h]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[g]:i,[h]:a}}}}}},Io=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=ae(e,t),f={x:n,y:r},h=re(o),g=pt(h);let p=f[g],y=f[h];const m=ae(c,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=g==="y"?"height":"width",S=i.reference[g]-i.floating[b]+x.mainAxis,N=i.reference[g]+i.reference[b]-x.mainAxis;p<S?p=S:p>N&&(p=N)}if(d){var v,w;const b=g==="y"?"width":"height",S=Gt.has(ce(o)),N=i.reference[h]-i.floating[b]+(S&&((v=a.offset)==null?void 0:v[h])||0)+(S?0:x.crossAxis),P=i.reference[h]+i.reference[b]+(S?0:((w=a.offset)==null?void 0:w[h])||0)-(S?x.crossAxis:0);y<N?y=N:y>P&&(y=P)}return{[g]:p,[h]:y}}}},Oo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:c}=t,{apply:l=()=>{},...d}=ae(e,t),f=await ke(t,d),h=ce(o),g=Ce(o),p=re(o)==="y",{width:y,height:m}=i.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=g===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(v=h,x=g==="end"?"top":"bottom");const w=m-f.top-f.bottom,b=y-f.left-f.right,S=de(m-f[x],w),N=de(y-f[v],b),P=!t.middlewareData.shift;let R=S,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=w),P&&!g){const O=U(f.left,0),_=U(f.right,0),M=U(f.top,0),I=U(f.bottom,0);p?k=y-2*(O!==0||_!==0?O+_:U(f.left,f.right)):R=m-2*(M!==0||I!==0?M+I:U(f.top,f.bottom))}await l({...t,availableWidth:k,availableHeight:R});const z=await a.getDimensions(c.floating);return y!==z.width||m!==z.height?{reset:{rects:!0}}:{}}}};function Qe(){return typeof window<"u"}function je(e){return Yt(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ie(e){var t;return(t=(Yt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yt(e){return Qe()?e instanceof Node||e instanceof K(e).Node:!1}function te(e){return Qe()?e instanceof Element||e instanceof K(e).Element:!1}function se(e){return Qe()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function Dt(e){return!Qe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}const _o=new Set(["inline","contents"]);function Oe(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ne(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!_o.has(o)}const Mo=new Set(["table","td","th"]);function Lo(e){return Mo.has(je(e))}const Do=[":popover-open",":modal"];function Be(e){return Do.some(t=>{try{return e.matches(t)}catch{return!1}})}const $o=["transform","translate","scale","rotate","perspective"],zo=["transform","translate","scale","rotate","perspective","filter"],qo=["paint","layout","strict","content"];function yt(e){const t=wt(),n=te(e)?ne(e):e;return $o.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zo.some(r=>(n.willChange||"").includes(r))||qo.some(r=>(n.contain||"").includes(r))}function Fo(e){let t=ue(e);for(;se(t)&&!Ne(t);){if(yt(t))return t;if(Be(t))return null;t=ue(t)}return null}function wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qo=new Set(["html","body","#document"]);function Ne(e){return Qo.has(je(e))}function ne(e){return K(e).getComputedStyle(e)}function He(e){return te(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(je(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dt(e)&&e.host||ie(e);return Dt(t)?t.host:t}function Zt(e){const t=ue(e);return Ne(t)?e.ownerDocument?e.ownerDocument.body:e.body:se(t)&&Oe(t)?t:Zt(t)}function Ie(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Zt(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=K(o);if(i){const c=ot(a);return t.concat(a,a.visualViewport||[],Oe(o)?o:[],c&&n?Ie(c):[])}return t.concat(o,Ie(o,[],n))}function ot(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xt(e){const t=ne(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=se(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,c=Le(n)!==i||Le(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function vt(e){return te(e)?e:e.contextElement}function Se(e){const t=vt(e);if(!se(t))return oe(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Xt(t);let a=(i?Le(n.width):n.width)/r,c=(i?Le(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Bo=oe(0);function Jt(e){const t=K(e);return!wt()||!t.visualViewport?Bo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ho(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==K(e)?!1:t}function ye(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=vt(e);let a=oe(1);t&&(r?te(r)&&(a=Se(r)):a=Se(e));const c=Ho(i,n,r)?Jt(i):oe(0);let l=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,f=o.width/a.x,h=o.height/a.y;if(i){const g=K(i),p=r&&te(r)?K(r):r;let y=g,m=ot(y);for(;m&&r&&p!==y;){const x=Se(m),v=m.getBoundingClientRect(),w=ne(m),b=v.left+(m.clientLeft+parseFloat(w.paddingLeft))*x.x,S=v.top+(m.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,d*=x.y,f*=x.x,h*=x.y,l+=b,d+=S,y=K(m),m=ot(y)}}return $e({width:f,height:h,x:l,y:d})}function bt(e,t){const n=He(e).scrollLeft;return t?t.left+n:ye(ie(e)).left+n}function en(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:bt(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function Wo(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=ie(r),c=t?Be(t.floating):!1;if(r===a||c&&i)return n;let l={scrollLeft:0,scrollTop:0},d=oe(1);const f=oe(0),h=se(r);if((h||!h&&!i)&&((je(r)!=="body"||Oe(a))&&(l=He(r)),se(r))){const p=ye(r);d=Se(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const g=a&&!h&&!i?en(a,l,!0):oe(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-l.scrollTop*d.y+f.y+g.y}}function Vo(e){return Array.from(e.getClientRects())}function Uo(e){const t=ie(e),n=He(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+bt(e);const c=-n.scrollTop;return ne(r).direction==="rtl"&&(a+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:c}}function Ko(e,t){const n=K(e),r=ie(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(o){i=o.width,a=o.height;const d=wt();(!d||d&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:c,y:l}}const Go=new Set(["absolute","fixed"]);function Yo(e,t){const n=ye(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=se(e)?Se(e):oe(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,d=r*i.y;return{width:a,height:c,x:l,y:d}}function $t(e,t,n){let r;if(t==="viewport")r=Ko(e,n);else if(t==="document")r=Uo(ie(e));else if(te(t))r=Yo(t,n);else{const o=Jt(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return $e(r)}function tn(e,t){const n=ue(e);return n===t||!te(n)||Ne(n)?!1:ne(n).position==="fixed"||tn(n,t)}function Zo(e,t){const n=t.get(e);if(n)return n;let r=Ie(e,[],!1).filter(c=>te(c)&&je(c)!=="body"),o=null;const i=ne(e).position==="fixed";let a=i?ue(e):e;for(;te(a)&&!Ne(a);){const c=ne(a),l=yt(a);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&Go.has(o.position)||Oe(a)&&!l&&tn(e,a))?r=r.filter(f=>f!==a):o=c,a=ue(a)}return t.set(e,r),r}function Xo(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Be(t)?[]:Zo(t,this._c):[].concat(n),r],c=a[0],l=a.reduce((d,f)=>{const h=$t(t,f,o);return d.top=U(h.top,d.top),d.right=de(h.right,d.right),d.bottom=de(h.bottom,d.bottom),d.left=U(h.left,d.left),d},$t(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jo(e){const{width:t,height:n}=Xt(e);return{width:t,height:n}}function es(e,t,n){const r=se(t),o=ie(t),i=n==="fixed",a=ye(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=oe(0);function d(){l.x=bt(o)}if(r||!r&&!i)if((je(t)!=="body"||Oe(o))&&(c=He(t)),r){const p=ye(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&d();i&&!r&&o&&d();const f=o&&!r&&!i?en(o,c):oe(0),h=a.left+c.scrollLeft-l.x-f.x,g=a.top+c.scrollTop-l.y-f.y;return{x:h,y:g,width:a.width,height:a.height}}function Je(e){return ne(e).position==="static"}function zt(e,t){if(!se(e)||ne(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ie(e)===n&&(n=n.ownerDocument.body),n}function nn(e,t){const n=K(e);if(Be(e))return n;if(!se(e)){let o=ue(e);for(;o&&!Ne(o);){if(te(o)&&!Je(o))return o;o=ue(o)}return n}let r=zt(e,t);for(;r&&Lo(r)&&Je(r);)r=zt(r,t);return r&&Ne(r)&&Je(r)&&!yt(r)?n:r||Fo(e)||n}const ts=async function(e){const t=this.getOffsetParent||nn,n=this.getDimensions,r=await n(e.floating);return{reference:es(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ns(e){return ne(e).direction==="rtl"}const rs={convertOffsetParentRelativeRectToViewportRelativeRect:Wo,getDocumentElement:ie,getClippingRect:Xo,getOffsetParent:nn,getElementRects:ts,getClientRects:Vo,getDimensions:Jo,getScale:Se,isElement:te,isRTL:ns};function rn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function os(e,t){let n=null,r;const o=ie(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:g,height:p}=d;if(c||t(),!g||!p)return;const y=_e(h),m=_e(o.clientWidth-(f+g)),x=_e(o.clientHeight-(h+p)),v=_e(f),b={rootMargin:-y+"px "+-m+"px "+-x+"px "+-v+"px",threshold:U(0,de(1,l))||1};let S=!0;function N(P){const R=P[0].intersectionRatio;if(R!==l){if(!S)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!rn(d,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(N,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(e)}return a(!0),i}function ss(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=vt(e),f=o||i?[...d?Ie(d):[],...Ie(t)]:[];f.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=d&&c?os(d,n):null;let g=-1,p=null;a&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),d&&!l&&p.observe(d),p.observe(t));let y,m=l?ye(e):null;l&&x();function x(){const v=ye(e);m&&!rn(m,v)&&n(),m=v,y=requestAnimationFrame(x)}return n(),()=>{var v;f.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const is=To,as=ko,cs=Ao,ls=Oo,ds=Eo,qt=Ro,us=Io,fs=(e,t,n)=>{const r=new Map,o={platform:rs,...n},i={...o.platform,_c:r};return jo(e,t,{...o,platform:i})};var ms=typeof document<"u",hs=function(){},Me=ms?u.useLayoutEffect:hs;function ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ze(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ze(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function on(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ft(e,t){const n=on(e);return Math.round(t*n)/n}function et(e){const t=u.useRef(e);return Me(()=>{t.current=e}),t}function ps(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[f,h]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=u.useState(r);ze(g,r)||p(r);const[y,m]=u.useState(null),[x,v]=u.useState(null),w=u.useCallback(j=>{j!==P.current&&(P.current=j,m(j))},[]),b=u.useCallback(j=>{j!==R.current&&(R.current=j,v(j))},[]),S=i||y,N=a||x,P=u.useRef(null),R=u.useRef(null),k=u.useRef(f),z=l!=null,O=et(l),_=et(o),M=et(d),I=u.useCallback(()=>{if(!P.current||!R.current)return;const j={placement:t,strategy:n,middleware:g};_.current&&(j.platform=_.current),fs(P.current,R.current,j).then(L=>{const V={...L,isPositioned:M.current!==!1};E.current&&!ze(k.current,V)&&(k.current=V,Fe.flushSync(()=>{h(V)}))})},[g,t,n,_,M]);Me(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[d]);const E=u.useRef(!1);Me(()=>(E.current=!0,()=>{E.current=!1}),[]),Me(()=>{if(S&&(P.current=S),N&&(R.current=N),S&&N){if(O.current)return O.current(S,N,I);I()}},[S,N,I,O,z]);const q=u.useMemo(()=>({reference:P,floating:R,setReference:w,setFloating:b}),[w,b]),A=u.useMemo(()=>({reference:S,floating:N}),[S,N]),T=u.useMemo(()=>{const j={position:n,left:0,top:0};if(!A.floating)return j;const L=Ft(A.floating,f.x),V=Ft(A.floating,f.y);return c?{...j,transform:"translate("+L+"px, "+V+"px)",...on(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:V}},[n,c,A.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:I,refs:q,elements:A,floatingStyles:T}),[f,I,q,A,T])}const gs=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?qt({element:r.current,padding:o}).fn(n):{}:r?qt({element:r,padding:o}).fn(n):{}}}},xs=(e,t)=>({...is(e),options:[e,t]}),ys=(e,t)=>({...as(e),options:[e,t]}),ws=(e,t)=>({...us(e),options:[e,t]}),vs=(e,t)=>({...cs(e),options:[e,t]}),bs=(e,t)=>({...ls(e),options:[e,t]}),Ss=(e,t)=>({...ds(e),options:[e,t]}),Ns=(e,t)=>({...gs(e),options:[e,t]});var Cs="Arrow",sn=u.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return s.jsx(H.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});sn.displayName=Cs;var js=sn;function Rs(e){const[t,n]=u.useState(void 0);return ee(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,c=d.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var St="Popper",[an,cn]=Bt(St),[As,ln]=an(St),dn=e=>{const{__scopePopper:t,children:n}=e,[r,o]=u.useState(null);return s.jsx(As,{scope:t,anchor:r,onAnchorChange:o,children:n})};dn.displayName=St;var un="PopperAnchor",fn=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=ln(un,n),a=u.useRef(null),c=Z(t,a);return u.useEffect(()=>{i.onAnchorChange(r?.current||a.current)}),r?null:s.jsx(H.div,{...o,ref:c})});fn.displayName=un;var Nt="PopperContent",[Es,Ps]=an(Nt),mn=u.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,x=ln(Nt,n),[v,w]=u.useState(null),b=Z(t,C=>w(C)),[S,N]=u.useState(null),P=Rs(S),R=P?.width??0,k=P?.height??0,z=r+(i!=="center"?"-"+i:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(d)?d:[d],M=_.length>0,I={padding:O,boundary:_.filter(ks),altBoundary:M},{refs:E,floatingStyles:q,placement:A,isPositioned:T,middlewareData:j}=ps({strategy:"fixed",placement:z,whileElementsMounted:(...C)=>ss(...C,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[xs({mainAxis:o+k,alignmentAxis:a}),l&&ys({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ws():void 0,...I}),l&&vs({...I}),bs({...I,apply:({elements:C,rects:F,availableWidth:W,availableHeight:D})=>{const{width:$,height:Q}=F.reference,G=C.floating.style;G.setProperty("--radix-popper-available-width",`${W}px`),G.setProperty("--radix-popper-available-height",`${D}px`),G.setProperty("--radix-popper-anchor-width",`${$}px`),G.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),S&&Ns({element:S,padding:c}),Is({arrowWidth:R,arrowHeight:k}),g&&Ss({strategy:"referenceHidden",...I})]}),[L,V]=gn(A),he=Ht(y);ee(()=>{T&&he?.()},[T,he]);const Ae=j.arrow?.x,Ee=j.arrow?.y,le=j.arrow?.centerOffset!==0,[be,pe]=u.useState();return ee(()=>{v&&pe(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:T?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Es,{scope:n,placedSide:L,onArrowChange:N,arrowX:Ae,arrowY:Ee,shouldHideArrow:le,children:s.jsx(H.div,{"data-side":L,"data-align":V,...m,ref:b,style:{...m.style,animation:T?void 0:"none"}})})})});mn.displayName=Nt;var hn="PopperArrow",Ts={top:"bottom",right:"left",bottom:"top",left:"right"},pn=u.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=Ps(hn,r),a=Ts[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(js,{...o,ref:n,style:{...o.style,display:"block"}})})});pn.displayName=hn;function ks(e){return e!==null}var Is=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,c=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[d,f]=gn(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(o.arrow?.x??0)+c/2,p=(o.arrow?.y??0)+l/2;let y="",m="";return d==="bottom"?(y=a?h:`${g}px`,m=`${-l}px`):d==="top"?(y=a?h:`${g}px`,m=`${r.floating.height+l}px`):d==="right"?(y=`${-l}px`,m=a?h:`${p}px`):d==="left"&&(y=`${r.floating.width+l}px`,m=a?h:`${p}px`),{data:{x:y,y:m}}}});function gn(e){const[t,n="center"]=e.split("-");return[t,n]}var Os=dn,_s=fn,Ms=mn,Ls=pn;function Ds(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xn=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$s="VisuallyHidden",zs=u.forwardRef((e,t)=>s.jsx(H.span,{...e,ref:t,style:{...xn,...e.style}}));zs.displayName=$s;var qs=[" ","Enter","ArrowUp","ArrowDown"],Fs=[" ","Enter"],we="Select",[We,Ve,Qs]=tr(we),[Re,oa]=Bt(we,[Qs,cn]),Ue=cn(),[Bs,fe]=Re(we),[Hs,Ws]=Re(we),yn=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:a,defaultValue:c,onValueChange:l,dir:d,name:f,autoComplete:h,disabled:g,required:p,form:y}=e,m=Ue(t),[x,v]=u.useState(null),[w,b]=u.useState(null),[S,N]=u.useState(!1),P=lr(d),[R,k]=jt({prop:r,defaultProp:o??!1,onChange:i,caller:we}),[z,O]=jt({prop:a,defaultProp:c,onChange:l,caller:we}),_=u.useRef(null),M=x?y||!!x.closest("form"):!0,[I,E]=u.useState(new Set),q=Array.from(I).map(A=>A.props.value).join(";");return s.jsx(Os,{...m,children:s.jsxs(Bs,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:dt(),value:z,onValueChange:O,open:R,onOpenChange:k,dir:P,triggerPointerDownPosRef:_,disabled:g,children:[s.jsx(We.Provider,{scope:t,children:s.jsx(Hs,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(A=>{E(T=>new Set(T).add(A))},[]),onNativeOptionRemove:u.useCallback(A=>{E(T=>{const j=new Set(T);return j.delete(A),j})},[]),children:n})}),M?s.jsxs(qn,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:z,onChange:A=>O(A.target.value),disabled:g,form:y,children:[z===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},q):null]})})};yn.displayName=we;var wn="SelectTrigger",vn=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Ue(n),a=fe(wn,n),c=a.disabled||r,l=Z(t,a.onTriggerChange),d=Ve(n),f=u.useRef("touch"),[h,g,p]=Qn(m=>{const x=d().filter(b=>!b.disabled),v=x.find(b=>b.value===a.value),w=Bn(x,m,v);w!==void 0&&a.onValueChange(w.value)}),y=m=>{c||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(_s,{asChild:!0,...i,children:s.jsx(H.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Fn(a.value)?"":void 0,...o,ref:l,onClick:B(o.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:B(o.onPointerDown,m=>{f.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:B(o.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&g(m.key),!(x&&m.key===" ")&&qs.includes(m.key)&&(y(),m.preventDefault())})})})});vn.displayName=wn;var bn="SelectValue",Sn=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:a="",...c}=e,l=fe(bn,n),{onValueNodeHasChildrenChange:d}=l,f=i!==void 0,h=Z(t,l.onValueNodeChange);return ee(()=>{d(f)},[d,f]),s.jsx(H.span,{...c,ref:h,style:{pointerEvents:"none"},children:Fn(l.value)?s.jsx(s.Fragment,{children:a}):i})});Sn.displayName=bn;var Vs="SelectIcon",Nn=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(H.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});Nn.displayName=Vs;var Us="SelectPortal",Cn=e=>s.jsx(nr,{asChild:!0,...e});Cn.displayName=Us;var ve="SelectContent",jn=u.forwardRef((e,t)=>{const n=fe(ve,e.__scopeSelect),[r,o]=u.useState();if(ee(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Fe.createPortal(s.jsx(Rn,{scope:e.__scopeSelect,children:s.jsx(We.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(An,{...e,ref:t})});jn.displayName=ve;var J=10,[Rn,me]=Re(ve),Ks="SelectContentImpl",Gs=ir("SelectContent.RemoveScroll"),An=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:l,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:x,...v}=e,w=fe(ve,n),[b,S]=u.useState(null),[N,P]=u.useState(null),R=Z(t,C=>S(C)),[k,z]=u.useState(null),[O,_]=u.useState(null),M=Ve(n),[I,E]=u.useState(!1),q=u.useRef(!1);u.useEffect(()=>{if(b)return rr(b)},[b]),or();const A=u.useCallback(C=>{const[F,...W]=M().map(Q=>Q.ref.current),[D]=W.slice(-1),$=document.activeElement;for(const Q of C)if(Q===$||(Q?.scrollIntoView({block:"nearest"}),Q===F&&N&&(N.scrollTop=0),Q===D&&N&&(N.scrollTop=N.scrollHeight),Q?.focus(),document.activeElement!==$))return},[M,N]),T=u.useCallback(()=>A([k,b]),[A,k,b]);u.useEffect(()=>{I&&T()},[I,T]);const{onOpenChange:j,triggerPointerDownPosRef:L}=w;u.useEffect(()=>{if(b){let C={x:0,y:0};const F=D=>{C={x:Math.abs(Math.round(D.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(D.pageY)-(L.current?.y??0))}},W=D=>{C.x<=10&&C.y<=10?D.preventDefault():b.contains(D.target)||j(!1),document.removeEventListener("pointermove",F),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",W,{capture:!0})}}},[b,j,L]),u.useEffect(()=>{const C=()=>j(!1);return window.addEventListener("blur",C),window.addEventListener("resize",C),()=>{window.removeEventListener("blur",C),window.removeEventListener("resize",C)}},[j]);const[V,he]=Qn(C=>{const F=M().filter($=>!$.disabled),W=F.find($=>$.ref.current===document.activeElement),D=Bn(F,C,W);D&&setTimeout(()=>D.ref.current.focus())}),Ae=u.useCallback((C,F,W)=>{const D=!q.current&&!W;(w.value!==void 0&&w.value===F||D)&&(z(C),D&&(q.current=!0))},[w.value]),Ee=u.useCallback(()=>b?.focus(),[b]),le=u.useCallback((C,F,W)=>{const D=!q.current&&!W;(w.value!==void 0&&w.value===F||D)&&_(C)},[w.value]),be=r==="popper"?st:En,pe=be===st?{side:c,sideOffset:l,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:x}:{};return s.jsx(Rn,{scope:n,content:b,viewport:N,onViewportChange:P,itemRefCallback:Ae,selectedItem:k,onItemLeave:Ee,itemTextRefCallback:le,focusSelectedItem:T,selectedItemText:O,position:r,isPositioned:I,searchRef:V,children:s.jsx(sr,{as:Gs,allowPinchZoom:!0,children:s.jsx(ar,{asChild:!0,trapped:w.open,onMountAutoFocus:C=>{C.preventDefault()},onUnmountAutoFocus:B(o,C=>{w.trigger?.focus({preventScroll:!0}),C.preventDefault()}),children:s.jsx(cr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:C=>C.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(be,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:C=>C.preventDefault(),...v,...pe,onPlaced:()=>E(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:B(v.onKeyDown,C=>{const F=C.ctrlKey||C.altKey||C.metaKey;if(C.key==="Tab"&&C.preventDefault(),!F&&C.key.length===1&&he(C.key),["ArrowUp","ArrowDown","Home","End"].includes(C.key)){let D=M().filter($=>!$.disabled).map($=>$.ref.current);if(["ArrowUp","End"].includes(C.key)&&(D=D.slice().reverse()),["ArrowUp","ArrowDown"].includes(C.key)){const $=C.target,Q=D.indexOf($);D=D.slice(Q+1)}setTimeout(()=>A(D)),C.preventDefault()}})})})})})})});An.displayName=Ks;var Ys="SelectItemAlignedPosition",En=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=fe(ve,n),a=me(ve,n),[c,l]=u.useState(null),[d,f]=u.useState(null),h=Z(t,R=>f(R)),g=Ve(n),p=u.useRef(!1),y=u.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:w}=a,b=u.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&m&&x&&v){const R=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const $=O.left-k.left,Q=z.left-$,G=R.left-Q,ge=R.width+G,Ke=Math.max(ge,k.width),Ge=window.innerWidth-J,Ye=kt(Q,[J,Math.max(J,Ge-Ke)]);c.style.minWidth=ge+"px",c.style.left=Ye+"px"}else{const $=k.right-O.right,Q=window.innerWidth-z.right-$,G=window.innerWidth-R.right-Q,ge=R.width+G,Ke=Math.max(ge,k.width),Ge=window.innerWidth-J,Ye=kt(Q,[J,Math.max(J,Ge-Ke)]);c.style.minWidth=ge+"px",c.style.right=Ye+"px"}const _=g(),M=window.innerHeight-J*2,I=m.scrollHeight,E=window.getComputedStyle(d),q=parseInt(E.borderTopWidth,10),A=parseInt(E.paddingTop,10),T=parseInt(E.borderBottomWidth,10),j=parseInt(E.paddingBottom,10),L=q+A+I+j+T,V=Math.min(x.offsetHeight*5,L),he=window.getComputedStyle(m),Ae=parseInt(he.paddingTop,10),Ee=parseInt(he.paddingBottom,10),le=R.top+R.height/2-J,be=M-le,pe=x.offsetHeight/2,C=x.offsetTop+pe,F=q+A+C,W=L-F;if(F<=le){const $=_.length>0&&x===_[_.length-1].ref.current;c.style.bottom="0px";const Q=d.clientHeight-m.offsetTop-m.offsetHeight,G=Math.max(be,pe+($?Ee:0)+Q+T),ge=F+G;c.style.height=ge+"px"}else{const $=_.length>0&&x===_[0].ref.current;c.style.top="0px";const G=Math.max(le,q+m.offsetTop+($?Ae:0)+pe)+W;c.style.height=G+"px",m.scrollTop=F-le+m.offsetTop}c.style.margin=`${J}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=M+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[g,i.trigger,i.valueNode,c,d,m,x,v,i.dir,r]);ee(()=>b(),[b]);const[S,N]=u.useState();ee(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=u.useCallback(R=>{R&&y.current===!0&&(b(),w?.(),y.current=!1)},[b,w]);return s.jsx(Xs,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:s.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(H.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});En.displayName=Ys;var Zs="SelectPopperPosition",st=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=J,...i}=e,a=Ue(n);return s.jsx(Ms,{...a,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});st.displayName=Zs;var[Xs,Ct]=Re(ve,{}),it="SelectViewport",Pn=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=me(it,n),a=Ct(it,n),c=Z(t,i.onViewportChange),l=u.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(We.Slot,{scope:n,children:s.jsx(H.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:B(o.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=a;if(g?.current&&h){const p=Math.abs(l.current-f.scrollTop);if(p>0){const y=window.innerHeight-J*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(m,x);if(v<y){const w=v+p,b=Math.min(y,w),S=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});Pn.displayName=it;var Tn="SelectGroup",[Js,ei]=Re(Tn),ti=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=dt();return s.jsx(Js,{scope:n,id:o,children:s.jsx(H.div,{role:"group","aria-labelledby":o,...r,ref:t})})});ti.displayName=Tn;var kn="SelectLabel",In=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ei(kn,n);return s.jsx(H.div,{id:o.id,...r,ref:t})});In.displayName=kn;var qe="SelectItem",[ni,On]=Re(qe),_n=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...a}=e,c=fe(qe,n),l=me(qe,n),d=c.value===r,[f,h]=u.useState(i??""),[g,p]=u.useState(!1),y=Z(t,w=>l.itemRefCallback?.(w,r,o)),m=dt(),x=u.useRef("touch"),v=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ni,{scope:n,value:r,disabled:o,textId:m,isSelected:d,onItemTextChange:u.useCallback(w=>{h(b=>b||(w?.textContent??"").trim())},[]),children:s.jsx(We.ItemSlot,{scope:n,value:r,disabled:o,textValue:f,children:s.jsx(H.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:y,onFocus:B(a.onFocus,()=>p(!0)),onBlur:B(a.onBlur,()=>p(!1)),onClick:B(a.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:B(a.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:B(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:B(a.onPointerMove,w=>{x.current=w.pointerType,o?l.onItemLeave?.():x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:B(a.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:B(a.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(Fs.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});_n.displayName=qe;var Te="SelectItemText",Mn=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,a=fe(Te,n),c=me(Te,n),l=On(Te,n),d=Ws(Te,n),[f,h]=u.useState(null),g=Z(t,v=>h(v),l.onItemTextChange,v=>c.itemTextRefCallback?.(v,l.value,l.disabled)),p=f?.textContent,y=u.useMemo(()=>s.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=d;return ee(()=>(m(y),()=>x(y)),[m,x,y]),s.jsxs(s.Fragment,{children:[s.jsx(H.span,{id:l.textId,...i,ref:g}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Fe.createPortal(i.children,a.valueNode):null]})});Mn.displayName=Te;var Ln="SelectItemIndicator",Dn=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return On(Ln,n).isSelected?s.jsx(H.span,{"aria-hidden":!0,...r,ref:t}):null});Dn.displayName=Ln;var at="SelectScrollUpButton",ri=u.forwardRef((e,t)=>{const n=me(at,e.__scopeSelect),r=Ct(at,e.__scopeSelect),[o,i]=u.useState(!1),a=Z(t,r.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?s.jsx($n,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});ri.displayName=at;var ct="SelectScrollDownButton",oi=u.forwardRef((e,t)=>{const n=me(ct,e.__scopeSelect),r=Ct(ct,e.__scopeSelect),[o,i]=u.useState(!1),a=Z(t,r.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<d;i(f)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?s.jsx($n,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});oi.displayName=ct;var $n=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=me("SelectScrollButton",n),a=u.useRef(null),c=Ve(n),l=u.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return u.useEffect(()=>()=>l(),[l]),ee(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(H.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:B(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:B(o.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:B(o.onPointerLeave,()=>{l()})})}),si="SelectSeparator",zn=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(H.div,{"aria-hidden":!0,...r,ref:t})});zn.displayName=si;var lt="SelectArrow",ii=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ue(n),i=fe(lt,n),a=me(lt,n);return i.open&&a.position==="popper"?s.jsx(Ls,{...o,...r,ref:t}):null});ii.displayName=lt;var ai="SelectBubbleInput",qn=u.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=u.useRef(null),i=Z(r,o),a=Ds(t);return u.useEffect(()=>{const c=o.current;if(!c)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&f){const h=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(h)}},[a,t]),s.jsx(H.select,{...n,style:{...xn,...n.style},ref:i,defaultValue:t})});qn.displayName=ai;function Fn(e){return e===""||e===void 0}function Qn(e){const t=Ht(e),n=u.useRef(""),r=u.useRef(0),o=u.useCallback(a=>{const c=n.current+a;t(c),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=u.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function Bn(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=ci(e,Math.max(i,0));o.length===1&&(a=a.filter(d=>d!==n));const l=a.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function ci(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var li=yn,Hn=vn,di=Sn,ui=Nn,fi=Cn,Wn=jn,mi=Pn,Vn=In,Un=_n,hi=Mn,pi=Dn,Kn=zn;const gi=li,xi=di,Gn=u.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Hn,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,s.jsx(ui,{asChild:!0,children:s.jsx(ht,{className:"h-4 w-4 opacity-50"})})]}));Gn.displayName=Hn.displayName;const Yn=u.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(fi,{children:s.jsx(Wn,{ref:o,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:s.jsx(mi,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Yn.displayName=Wn.displayName;const yi=u.forwardRef(({className:e,...t},n)=>s.jsx(Vn,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yi.displayName=Vn.displayName;const Zn=u.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Un,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pi,{children:s.jsx(Kr,{className:"h-4 w-4"})})}),s.jsx(hi,{children:t})]}));Zn.displayName=Un.displayName;const wi=u.forwardRef(({className:e,...t},n)=>s.jsx(Kn,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));wi.displayName=Kn.displayName;const vi=()=>{const e=typeof navigator<"u"?navigator.userAgent:"",t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),n=/iPad|iPhone|iPod/.test(e),r=/Android/i.test(e),o=/Safari/i.test(e)&&!/Chrome/i.test(e),i=/Chrome/i.test(e),a=typeof navigator<"u"&&"share"in navigator,c=typeof navigator<"u"&&"clipboard"in navigator&&"writeText"in navigator.clipboard;return{isMobile:t,isIOS:n,isAndroid:r,isSafari:o,isChrome:i,canWebShare:a,canClipboard:c}},Qt=async e=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}catch(t){return console.error("클립보드 복사 실패:",t),!1}},bi=async e=>{try{if(!navigator.share)return!1;const t={title:e.title,text:e.text,url:e.url};if(e.image&&"canShare"in navigator)try{const r=await(await fetch(e.image)).blob(),o=new File([r],"quiz-result.jpg",{type:"image/jpeg"});navigator.canShare({files:[o]})&&(t.files=[o])}catch{}return await navigator.share(t),!0}catch(t){return t instanceof Error&&t.name==="AbortError"||console.error("Web Share API 실패:",t),!1}},Si=(e={})=>{const[t,n]=u.useState(!1),[r,o]=u.useState(null),[i,a]=u.useState(null),{enableClipboard:c=!0,enableWebShare:l=!0}=e;u.useEffect(()=>{o(vi())},[]);const d=u.useCallback(async(m,x)=>{if(!r)return{success:!1,method:"error",error:"브라우저 정보를 확인할 수 없습니다."};n(!0);try{const v=Lr(m),w={title:"FaceRead 감정 인식 퀴즈 결과",text:Pt(v.grade,m,x||"익명"),url:"https://faceread.app",image:v.shareImage};return await f(w)}finally{n(!1)}},[r]),f=u.useCallback(async m=>{if(!r)return{success:!1,method:"error",error:"브라우저 정보를 확인할 수 없습니다."};n(!0);try{let x;return l&&r.canWebShare&&r.isMobile?await bi(m)?x={success:!0,method:"webshare"}:x=await h(m):c&&r.canClipboard?x=await h(m):x={success:!1,method:"fallback",error:"공유 기능이 지원되지 않는 환경입니다."},a(x),x}catch(x){const v={success:!1,method:"error",error:x instanceof Error?x.message:"공유 중 오류가 발생했습니다."};return a(v),v}finally{n(!1)}},[r,l,c]),h=async m=>{const x=`${m.title}

${m.text}

${m.url}`;return await Qt(x)?{success:!0,method:"clipboard"}:{success:!1,method:"error",error:"클립보드 복사에 실패했습니다."}},g=u.useCallback(async(m,x)=>await f({title:"FaceRead - 감정 인식 퀴즈",text:x||"감정 인식 능력을 테스트해보세요!",url:m}),[f]),p=r?l&&r.canWebShare||c&&r.canClipboard:!1,y=r?r.isMobile&&r.canWebShare?"webshare":r.canClipboard?"clipboard":"fallback":"unknown";return{isSharing:t,canShare:p,userAgent:r,lastShareResult:i,recommendedMethod:y,shareQuizResult:d,shareWithData:f,shareUrl:g,generateShareText:(m,x,v)=>Pt(m,x,v||"익명"),copyToClipboard:Qt,isMobile:r?.isMobile||!1,canWebShare:r?.canWebShare||!1,canClipboard:r?.canClipboard||!1}};function Ni({...e}){return s.jsx(dr,{"data-slot":"accordion",...e})}function Ci({className:e,...t}){return s.jsx(ur,{"data-slot":"accordion-item",className:Y("border-b last:border-b-0",e),...t})}function ji({className:e,children:t,...n}){return s.jsx(fr,{className:"flex",children:s.jsxs(mr,{"data-slot":"accordion-trigger",className:Y("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(ht,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Ri({className:e,children:t,...n}){return s.jsx(hr,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:s.jsx("div",{className:Y("pt-0 pb-4",e),children:t})})}const Ai=[{id:"item-1",questionKey:"faq.q1",answerKey:"faq.a1"},{id:"item-2",questionKey:"faq.q2",answerKey:"faq.a2"},{id:"item-3",questionKey:"faq.q3",answerKey:"faq.a3"},{id:"item-4",questionKey:"faq.q4",answerKey:"faq.a4"},{id:"item-5",questionKey:"faq.q5",answerKey:"faq.a5"}],Ei=()=>{const{t:e}=ut();return s.jsx("section",{className:"px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h2",{className:"text-2xl font-bold text-left mb-6 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-6 h-6 text-primary"}),e("faq.title")]}),s.jsx(Ni,{type:"single",collapsible:!0,className:"w-full",children:Ai.map(t=>s.jsxs(Ci,{value:t.id,children:[s.jsx(ji,{className:"text-left font-medium hover:no-underline",children:e(t.questionKey)}),s.jsx(Ri,{className:"text-gray-700 whitespace-pre-line",children:e(t.answerKey)})]},t.id))})]})})},Pi=()=>{const e=ft(),{loadQuestions:t,setNickname:n}=mt(),{t:r,i18n:o}=ut(),[i,a]=u.useState(""),[c,l]=u.useState(o.language),[d,f]=u.useState(!1),[h,g]=u.useState(null),{shareQuizResult:p,canShare:y}=Si(),m=async()=>{if(!i.trim()){g("닉네임을 입력해주세요.");return}if(!n(i.trim())){g("닉네임은 영문, 한글, 숫자만 사용 가능하며 1-10자여야 합니다.");return}f(!0),g(null);try{await t(c),e("/quiz",{state:{gameMode:"standard",language:c,nickname:i.trim()}})}catch{g("문제를 불러오는데 실패했습니다. 다시 시도해주세요.")}finally{f(!1)}},x=async()=>{const b=i.trim()||"익명";if(y){const S=await p(80,b);S.success?console.log("공유 성공:",S.method):(console.error("공유 실패:",S.error),g(S.error||"공유에 실패했습니다."))}else g("공유 기능을 사용할 수 없는 환경입니다.")},v=[{value:"ko",label:"한국어",flag:"🇰🇷"},{value:"en",label:"English",flag:"🇺🇸"},{value:"es",label:"Español",flag:"🇪🇸"}];return s.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[s.jsx("header",{className:"bg-white border-b border-gray-100",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"FaceRead"}),s.jsx("span",{className:"text-2xl",children:"🧠🫣"})]}),s.jsxs(gi,{value:c,onValueChange:w=>{l(w),o.changeLanguage(w)},children:[s.jsx(Gn,{className:"w-[120px]",children:s.jsx(xi,{placeholder:"Language"})}),s.jsx(Yn,{children:v.map(w=>s.jsxs(Zn,{value:w.value,children:[w.flag," ",w.label]},w.value))})]})]})})}),s.jsx(mo,{}),s.jsxs("main",{className:"flex-grow container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8",children:[s.jsx("div",{className:"flex-1 max-w-lg w-full bg-gray-100 rounded-2xl p-8 flex items-center justify-center min-h-[300px]",children:s.jsx("p",{className:"text-gray-500 text-center",children:"얼굴 감정 콜라주 / 애니 GIF / Lottie (비율 유지, 반투명 오버레이 가능)"})}),s.jsxs("div",{className:"flex-1 max-w-md w-full bg-white border border-gray-200 rounded-2xl shadow-sm p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["🎯 ",r("quiz.title")]}),s.jsx("p",{className:"text-gray-600 mb-6",children:r("quiz.description")}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-2",children:r("nickname.label")}),s.jsx("input",{type:"text",id:"nickname",value:i,onChange:w=>a(w.target.value),placeholder:r("nickname.placeholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-gray-800 placeholder-gray-500",maxLength:10}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:r("nickname.hint")})]}),h&&s.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:h})}),s.jsxs(xe,{onClick:m,disabled:d,size:"lg",variant:"gradient",className:"w-full",children:[s.jsx(so,{size:18,className:"mr-2"}),r(d?"quiz.loading":"quiz.start")]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(xe,{onClick:x,size:"lg",variant:"outline",className:"flex-1 bg-gray-100 text-gray-700 hover:bg-gray-200",children:r("result.share")}),s.jsx(xe,{onClick:()=>e("/demo"),size:"lg",variant:"outline",className:"flex-1 bg-gray-100 text-gray-700 hover:bg-gray-200",children:r("demo.button")})]})]})]}),s.jsx("div",{className:"mt-12",children:s.jsx(Ei,{})})]}),s.jsx("footer",{className:"mt-auto bg-gray-50 border-t border-gray-100 py-6",children:s.jsxs("div",{className:"container mx-auto px-4 text-center text-sm text-gray-500",children:[s.jsxs("p",{children:[r("footer.madeBy")," | ",r("footer.version",{version:"0.1.0-beta"})," | ",r("footer.build",{date:"2025-07-17"})," | ",r("footer.contact",{email:"support@faceread.com"})]}),s.jsxs("p",{className:"mt-1",children:[s.jsx("a",{href:"#",className:"hover:underline",children:r("footer.privacyPolicy")})," |",s.jsx("a",{href:"#",className:"hover:underline",children:r("footer.termsOfService")})," |",s.jsx("a",{href:"https://github.com/your-repo",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:r("footer.githubSource")})]})]})})]})},Ti=({choice:e,isSelected:t,isCorrect:n,isIncorrect:r,showResult:o,onClick:i,questionType:a})=>{const c="w-full p-4 rounded-lg border-2 transition-all duration-200 font-medium text-left",l=o?n?"border-green-500 bg-green-50 text-green-700":r?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-500":t?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-primary/50 hover:bg-primary/5",d=o;return s.jsx("button",{onClick:i,disabled:d,className:Y(c,l,{"cursor-not-allowed":d,"cursor-pointer hover:scale-[1.02] active:scale-[0.98]":!d}),children:s.jsxs("div",{className:"flex items-center gap-3",children:[a==="text2face"&&e.image&&s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden bg-gray-100",children:s.jsx("img",{src:e.image,alt:`선택지 ${e.text}`,className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500 mr-2",children:e.text}),(a==="face2text"||a==="eyes2text")&&s.jsxs("span",{className:"text-base",children:[e.id==="happy"&&"기쁨",e.id==="sad"&&"슬픔",e.id==="angry"&&"화남",e.id==="surprised"&&"놀람",e.id==="fear"&&"두려움",e.id==="disgust"&&"혐오",e.id==="neutral"&&"무표정",e.id==="confused"&&"혼란",e.id==="focused"&&"집중",e.id==="determined"&&"결연함"]})]}),o&&s.jsxs("div",{className:"flex-shrink-0",children:[n&&s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r&&s.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})})},ki=({question:e,onAnswer:t,questionNumber:n,totalQuestions:r,isLoading:o=!1,className:i})=>{const[a,c]=u.useState(null),[l,d]=u.useState(!1),f=u.useCallback(g=>{l||o||(c(g),d(!0),setTimeout(()=>{t(g)},1200))},[l,o,t]),h=()=>{switch(e.type){case"face2text":return s.jsxs("div",{className:"text-center",children:[e.image&&s.jsx("div",{className:"mx-auto mb-6 w-32 h-32 rounded-xl overflow-hidden bg-gray-100 shadow-lg",children:s.jsx("img",{src:e.image,alt:"얼굴 표정",className:"w-full h-full object-cover",loading:"eager"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"이 표정은 어떤 감정일까요?"}),s.jsx("p",{className:"text-gray-600",children:"사진 속 인물의 감정을 선택해주세요."})]});case"text2face":return s.jsxs("div",{className:"text-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:[s.jsx("span",{className:"text-primary font-bold",children:e.emotionKey})," 감정을 나타내는 표정은?"]}),s.jsx("p",{className:"text-gray-600",children:"해당 감정에 맞는 얼굴 표정을 선택해주세요."})]});case"eyes2text":return s.jsxs("div",{className:"text-center",children:[e.image&&s.jsx("div",{className:"mx-auto mb-6 w-40 h-24 rounded-lg overflow-hidden bg-gray-100 shadow-lg",children:s.jsx("img",{src:e.image,alt:"눈 표정",className:"w-full h-full object-cover",loading:"eager"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"이 눈빛이 나타내는 감정은?"}),s.jsx("p",{className:"text-gray-600",children:"눈을 통해 드러나는 감정을 선택해주세요."})]});default:return null}};return s.jsxs("div",{className:Y("w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl p-6",i),children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[s.jsxs("span",{children:["문제 ",n]}),s.jsxs("span",{children:[r,"개 중"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/r*100}%`}})})]}),s.jsx("div",{className:"mb-8",children:h()}),s.jsx("div",{className:"space-y-3",children:e.choices.map(g=>{const p=a===g.id,y=l&&g.id===e.correctAnswer,m=l&&p&&g.id!==e.correctAnswer;return s.jsx(Ti,{choice:g,isSelected:p,isCorrect:y,isIncorrect:m,showResult:l,onClick:()=>f(g.id),questionType:e.type},g.id)})}),o&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),l&&a&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"설명"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.explanation.ko})]})]})},Ii=()=>{const e=ft(),t=br(),n=mt(),r=t.state;return u.useEffect(()=>{if(!r){e("/");return}n.questions.length>0&&!n.isQuizStarted&&n.startQuiz(r.gameMode,r.language)},[r,n.questions.length,n.isQuizStarted,n.startQuiz,e]),u.useEffect(()=>{n.isQuizFinished&&e("/result")},[n.isQuizFinished,e]),n.isLoading?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"문제를 불러오는 중..."})]})}):n.error?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"오류가 발생했습니다"}),s.jsx("p",{className:"text-gray-600 mb-6",children:n.error}),s.jsx(xe,{onClick:()=>e("/"),variant:"default",children:"홈으로 돌아가기"})]})}):!n.isQuizStarted||!n.currentQuestion?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mx-auto mb-4"}),s.jsx("div",{className:"h-8 bg-gray-300 rounded w-32 mx-auto"})]}),s.jsx("p",{className:"text-gray-600 mt-4",children:"퀴즈를 준비하고 있습니다..."})]})}):s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vr,{size:20,className:"text-primary"}),s.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"FaceRead"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[r?.nickname||"플레이어","님의 퀴즈"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(to,{size:16,className:"text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.currentQuestionIndex+1," / ",n.totalQuestions]})]}),s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})})]})]})})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(ki,{question:n.currentQuestion,questionNumber:n.currentQuestionIndex+1,totalQuestions:n.totalQuestions,onAnswer:()=>{}})})})]})},Oi=({result:e,nickname:t,onRestart:n})=>{const[r,o]=u.useState(!1),i={master:"감정 탐정 마스터",expert:"감정 탐정 전문가",rookie:"감정 탐정 초보자",novice:"감정 탐정 견습생"},a={master:"text-purple-600",expert:"text-blue-600",rookie:"text-green-600",novice:"text-orange-600"},c=Math.round(e.score/e.totalQuestions*100),l=()=>{const d=`나의 감정 인식 능력은 ${i[e.grade]}! (${e.score}/${e.totalQuestions}점, ${c}%)`;navigator.share?navigator.share({title:"FaceRead 퀴즈 결과",text:d,url:window.location.origin}):(navigator.clipboard?.writeText(`${d} - ${window.location.origin}`),alert("결과가 클립보드에 복사되었습니다!"))};return s.jsx("div",{className:"min-h-screen bg-white p-4",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-sm p-8 mb-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 border border-gray-200 mb-4",children:[s.jsx(Hr,{size:18,className:a[e.grade]}),s.jsx("span",{className:`font-bold ${a[e.grade]}`,children:i[e.grade]})]}),s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:[t,"님의 결과"]}),e.score===e.totalQuestions&&s.jsx("div",{className:"text-lg text-yellow-600 font-medium mb-4",children:"🎉 완벽한 점수입니다! 축하합니다! 🎉"})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(fo,{size:24,className:"text-primary"}),s.jsx("span",{className:"text-5xl font-bold text-gray-800",children:e.score}),s.jsxs("span",{className:"text-2xl text-gray-500 self-end mb-1",children:["/",e.totalQuestions]})]}),s.jsxs("div",{className:"text-xl text-gray-600 mb-6",children:["정답률 ",c,"%"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs mx-auto",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"정답"}),s.jsx("div",{className:"text-2xl font-bold text-green-700",children:e.correctAnswers})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-red-600 font-medium",children:"오답"}),s.jsx("div",{className:"text-2xl font-bold text-red-700",children:e.incorrectAnswers.length})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(xe,{onClick:l,size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-white",children:[s.jsx(lo,{size:18,className:"mr-2"}),"결과 공유하기"]}),s.jsxs(xe,{onClick:n,variant:"outline",size:"lg",className:"w-full",children:[s.jsx(ao,{size:18,className:"mr-2"}),"다시 도전하기"]})]})]}),e.incorrectAnswers.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-6",children:[s.jsxs(xe,{onClick:()=>o(!r),variant:"ghost",className:"w-full flex items-center justify-between p-4 h-auto text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{size:18,className:"text-gray-600"}),s.jsxs("span",{className:"font-medium text-gray-800",children:["틀린 문제 설명보기 (",e.incorrectAnswers.length,"개)"]})]}),r?s.jsx(Zr,{size:18,className:"text-gray-500"}):s.jsx(ht,{size:18,className:"text-gray-500"})]}),r&&s.jsx("div",{className:"mt-4 space-y-4 border-t border-gray-100 pt-4",children:e.incorrectAnswers.map((d,f)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-red-100 text-red-600 text-sm font-bold rounded-full",children:f+1}),s.jsxs("span",{className:"text-sm text-gray-600",children:["문제 ",d.questionId]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 mt-0.5",children:"❌"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"선택한 답: "}),s.jsx("span",{className:"font-medium text-red-600",children:d.selectedAnswerId})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✅"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"정답: "}),s.jsx("span",{className:"font-medium text-green-600",children:d.correctAnswerId})]})]})]})]},d.questionId))})]})]})})},_i=()=>{const e=ft(),t=mt();if(!t.isQuizFinished||!t.quizResult)return e("/"),null;const n=()=>{t.resetQuiz(),e("/")};return s.jsx("div",{className:"min-h-screen bg-background-light",children:s.jsx(Oi,{result:t.quizResult,nickname:t.nickname,onRestart:n})})};function Mi(){return s.jsx(Sr,{children:s.jsx(_r,{children:s.jsx("div",{className:"App",children:s.jsxs(Nr,{children:[s.jsx(Xe,{path:"/",element:s.jsx(Pi,{})}),s.jsx(Xe,{path:"/quiz",element:s.jsx(Ii,{})}),s.jsx(Xe,{path:"/result",element:s.jsx(_i,{})})]})})})})}const Li={bannerArea:"Ad Banner Area",noAdMessage:"Challenge today's emotion quiz! This is an ad space."},Di={title:"Emotion Reading Quiz",description:"How well can you read other people's expressions?",loading:"Loading questions...",start:"Read Emotions with Face"},$i={label:"Nickname",placeholder:"Enter your nickname",hint:"English, Korean, numbers only (1-10 characters)"},zi={share:"Share Result"},qi={button:"Demo"},Fi={madeBy:"Made by FaceRead Lab",version:"v{{version}}",build:"Build: {{date}}",contact:"Contact {{email}}",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",githubSource:"GitHub Source"},Qi={title:"FAQ",q1:"Where does the data come from?",a1:`• Public Data Portal: 'Population by administrative district'
• National Statistical Portal (KOSIS): 'Total fertility rate by city/county/district'
Both agencies use raw data from the National Statistical Office.`,q2:"How is the 'total fertility rate' displayed in the app calculated?",a2:"The official TFR = the estimated number of births per woman of childbearing age. We use the annual TFR values published by KOSIS as is, and for the Eup/Myeon/Dong level, we refer to the annual TFR of the corresponding city/county/district.",q3:"Newly established administrative districts are not searchable.",a3:"After the announcement of administrative district reorganization, when the National Statistical Office distributes new codes, we update the code map within a week. During this period, you can search by higher administrative districts.",q4:"Do you collect personal information?",a4:"This is a simple inquiry service without a login function, and only traffic data aggregated by GA4 (anonymized settings) is collected. Identifiable information such as IP addresses and locations are not stored.",q5:"Why was this created?",a5:"News talks about low birth rates every day, but it's hard to feel the situation in 'our neighborhood'. This website was created to show the abstract sense of crisis as concrete numbers in 'where I live' by simplifying the difficult functions of the hard-to-find National Statistical Portal. I thought that just being aware of whether my region is higher or lower than the national average is a start."},Bi={ad:Li,quiz:Di,nickname:$i,result:zi,demo:qi,footer:Fi,faq:Qi},Hi={bannerArea:"광고 배너 영역",noAdMessage:"오늘의 감정 퀴즈에 도전하세요! 광고 자리입니다."},Wi={title:"감정 리딩 퀴즈",description:"다른 사람의 표정을 얼마나 읽을 수 있나요?",loading:"문제 불러오는 중...",start:"얼굴로 감정읽기"},Vi={label:"닉네임",placeholder:"닉네임을 입력하세요",hint:"영문, 한글, 숫자만 사용 가능 (1-10자)"},Ui={share:"결과 공유"},Ki={button:"데모"},Gi={madeBy:"제작 FaceRead Lab",version:"v{{version}}",build:"빌드: {{date}}",contact:"문의 {{email}}",privacyPolicy:"개인정보처리방침",termsOfService:"이용약관",githubSource:"GitHub 소스"},Yi={title:"FAQ",q1:"데이터 출처는 어디인가요?",a1:`• 공공데이터포털: '행정구역별 출생등록 인구'
• 국가통계포털(KOSIS): '시도·시군구별 합계출산율'
두 기관 모두 통계청 원시 자료를 사용합니다.`,q2:"앱에서 보여주는 '합계출산율'은 어떻게 계산하나요?",a2:"공식 TFR = 가임 여성 1 명당 평생 예상 출생아 수입니다. KOSIS가 발표한 연간 TFR 값을 그대로 사용하며, 읍면동 수준에서는 해당 시군구 연간 TFR을 참조해 안내합니다.",q3:"신설 행정구역이 검색되지 않아요.",a3:"행정구역 개편 공포 이후, 통계청이 새 코드를 배포하면 최대 일주일 안에 코드 맵을 업데이트합니다. 기간 내에는 상위 행정구역으로 조회가 가능합니다.",q4:"개인정보를 수집하나요?",a4:"로그인 기능이 없는 단순 조회 서비스이며, GA4(익명화 설정)로 집계된 트래픽 데이터만 수집합니다. IP 주소·위치 등 식별 가능한 정보는 저장하지 않습니다.",q5:"이걸 왜 만들었나요?",a5:"뉴스에서는 매일 저출산을 이야기하지만, '우리 동네'가 어떤 상황인지 체감하기는 어렵습니다. 이 웹사이트는 찾기 힘든 국가 통계 포털의 어려운 기능을 줄이고 줄여 쉽게 보여 줌으로써, 추상적인 위기의식을 '내가 사는 곳'의 구체적인 숫자로 바꾸고자 만들었습니다. 내가 속한 지역이 전국 평균보다 높은지 낮은지 정도만 인지하는 것 부터가 시작이라고 생각했습니다."},Zi={ad:Hi,quiz:Wi,nickname:Vi,result:Ui,demo:Ki,footer:Gi,faq:Yi};wr.use(vr).init({resources:{en:{translation:Bi},ko:{translation:Zi}},lng:"ko",fallbackLng:"en",interpolation:{escapeValue:!1}});tt.createRoot(document.getElementById("root")).render(s.jsx(pr.StrictMode,{children:s.jsx(Mi,{})}));
